<section class="container">
  <h1>Add new user</h1>
  <form [formGroup]="userForm">
    <div class="form-item firstname-input-container">
      <label for="firstname">Firstname</label>
      <input [class.error]="checkIfInvalidAndTouched('firstname')" type="text" id="firstname" formControlName="firstname" />
    </div>
    @if (checkIfInvalidAndTouched('firstname')) {
      <p class="validation-error firstname-error">Please enter a valid firstname</p>
    }

    <div class="form-item lastname-input-container">
      <label for="lastname">Lastname</label>
      <input [class.error]="checkIfInvalidAndTouched('lastname')" type="text" id="lastname" formControlName="lastname" />
    </div>
    @if (checkIfInvalidAndTouched('lastname')) {
      <p class="validation-error lastname-error">Please enter a valid lastname</p>
    }

    <div class="form-item email-input-container">
      <label for="email">Email</label>
      <input [class.error]="checkIfInvalidAndTouched('email')" type="email" id="email" formControlName="email" />
    </div>
    @if (checkIfInvalidAndTouched('email')) {
      <p class="validation-error email-error">Please enter a valid email</p>
    }

    <div class="form-item age-input-container">
      <label for="age">Age</label>
      <input [class.error]="checkIfInvalidAndTouched('age')" type="number" id="age" formControlName="age" />
    </div>
    @if (checkIfInvalidAndTouched('age')) {
      <p class="validation-error age-error">Please enter a valid age</p>
    }

    <div class="form-item gender-input-container">
      <label for="gender">Gender</label>
      <select [class.error]="checkIfInvalidAndTouched('gender')" id="gender" formControlName="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </div>
    @if (checkIfInvalidAndTouched('gender')) {
      <p class="validation-error gender-error">Please enter a valid gender</p>
    }

    <div class="address-form address-form-container" formGroupName="address">
      <h2>Address</h2>
      <div class="form-item street-input-container">
        <label for="street">Street</label>
        <input [class.error]="checkIfInvalidAndTouched('street', true)" type="text" id="street" formControlName="street" />
      </div>
      @if (checkIfInvalidAndTouched('street', true)) {
        <p class="validation-error street-error">Please enter a valid street</p>
      }

      <div class="form-item city-input-container">
        <label for="city">City</label>
        <input [class.error]="checkIfInvalidAndTouched('city', true)" type="text" id="city" formControlName="city" />
      </div>
      @if (checkIfInvalidAndTouched('city', true)) {
        <p class="validation-error city-error">Please enter a valid city</p>
      }

      <div class="form-item state-input-container">
        <label for="state">State</label>
        <input [class.error]="checkIfInvalidAndTouched('state', true)" type="text" id="state" formControlName="state" />
      </div>
      @if (checkIfInvalidAndTouched('state', true)) {
        <p class="validation-error state-error">Please enter a valid state</p>
      }

      <div class="form-item pincode-input-container">
        <label for="pincode">Pin Code</label>
        <input [class.error]="checkIfInvalidAndTouched('pincode', true)" type="text" id="pincode" formControlName="pincode" />
      </div>
      @if (checkIfInvalidAndTouched('pincode', true)) {
        <p class="validation-error pincode-error">Please enter a valid pin code</p>
      }
    </div>

    <div class="buttons-place">
      <button (click)="submit()" class="btn btn-orange submit-button">Add User</button>
      <button (click)="fillMockData()" class="btn btn-orange-outline fill-mock-data-button">Fill mock data</button>
    </div>
  </form>
</section>
